# CRM 系统测试计划

本文档提供了全面的测试策略和具体的测试用例，以确保 CRM 系统在上线前的质量和稳定性。

## 目录

1. [测试策略](#测试策略)
2. [功能测试用例](#功能测试用例)
3. [表单验证测试](#表单验证测试)
4. [权限管理测试](#权限管理测试)
5. [通知系统测试](#通知系统测试)
6. [用户反馈功能测试](#用户反馈功能测试)
7. [移动端适配测试](#移动端适配测试)
8. [性能测试](#性能测试)
9. [安全测试](#安全测试)
10. [BUG 跟踪与修复流程](#bug-跟踪与修复流程)
11. [测试报告模板](#测试报告模板)

## 测试策略

### 测试目标

- 确保所有功能按照需求规格正常工作
- 验证用户界面的一致性和直观性
- 确认系统在各种设备和浏览器上的兼容性
- 评估系统性能并确保满足预期的负载要求
- 验证系统安全性，保证数据安全和用户隐私

### 测试环境

- **开发环境**：用于开发人员本地测试
- **测试环境**：模拟生产环境的配置，用于全面测试
- **预生产环境**：与生产环境完全一致，用于最终验证

### 测试类型

1. **功能测试**：验证各功能模块是否符合需求
2. **界面测试**：检查 UI 一致性、布局和响应式设计
3. **兼容性测试**：在不同浏览器和设备上的表现
4. **性能测试**：系统响应时间、资源利用率等
5. **安全测试**：检查系统安全漏洞和防护措施
6. **用户验收测试**：由实际用户进行的测试

### 测试工具

- **手动测试**：直接操作系统功能进行验证
- **浏览器开发者工具**：用于检查响应式设计和性能
- **Chrome Lighthouse**：性能、可访问性、最佳实践和 SEO 审核
- **扫描工具**：OWASP ZAP 等安全扫描工具

## 功能测试用例

### 用户认证测试

| 测试 ID | 测试场景 | 测试步骤 | 预期结果 |
|---------|---------|---------|----------|
| AUTH-01 | 用户注册 | 1. 访问注册页面<br>2. 填写有效的用户信息<br>3. 提交表单 | 注册成功，显示成功消息并提示等待管理员审核 |
| AUTH-02 | 用户登录 | 1. 访问登录页面<br>2. 输入正确的邮箱和密码<br>3. 点击登录 | 登录成功并重定向到仪表板 |
| AUTH-03 | 密码重置 | 1. 点击忘记密码<br>2. 输入注册邮箱<br>3. 请求重置链接<br>4. 点击邮件中的链接<br>5. 设置新密码 | 密码重置成功，可使用新密码登录 |
| AUTH-04 | 无效登录 | 1. 输入错误的邮箱或密码<br>2. 点击登录 | 显示适当的错误消息 |
| AUTH-05 | 会话过期 | 1. 登录系统<br>2. 等待会话过期<br>3. 尝试访问受保护页面 | 重定向到登录页面 |

### 仪表板测试

| 测试 ID | 测试场景 | 测试步骤 | 预期结果 |
|---------|---------|---------|----------|
| DASH-01 | 数据加载 | 1. 登录系统<br>2. 访问仪表板 | 正确显示统计数据和图表 |
| DASH-02 | 数据刷新 | 1. 在仪表板页面<br>2. 执行数据更新操作（如添加客户）<br>3. 返回仪表板 | 统计数据更新以反映变化 |
| DASH-03 | 快捷操作 | 1. 点击仪表板上的快捷操作按钮 | 跳转到相应的功能页面 |

### 客户管理测试

| 测试 ID | 测试场景 | 测试步骤 | 预期结果 |
|---------|---------|---------|----------|
| CUST-01 | 添加客户 | 1. 点击"添加客户"<br>2. 填写客户信息<br>3. 保存 | 客户成功创建并显示在列表中 |
| CUST-02 | 编辑客户 | 1. 从列表选择客户<br>2. 点击编辑<br>3. 修改信息<br>4. 保存 | 客户信息成功更新 |
| CUST-03 | 搜索客户 | 1. 在搜索框输入客户名称或联系人<br>2. 提交搜索 | 显示匹配的客户列表 |
| CUST-04 | 筛选客户 | 1. 使用筛选选项（如标签、状态）<br>2. 应用筛选 | 显示符合条件的客户 |
| CUST-05 | 客户详情 | 1. 点击客户名称<br>2. 查看详情页 | 显示客户的所有相关信息和标签页 |

### 任务管理测试

| 测试 ID | 测试场景 | 测试步骤 | 预期结果 |
|---------|---------|---------|----------|
| TASK-01 | 创建任务 | 1. 点击"新建任务"<br>2. 填写任务信息<br>3. 保存 | 任务成功创建并显示在看板中 |
| TASK-02 | 拖拽更新状态 | 1. 在看板视图<br>2. 拖动任务卡片到其他状态列 | 任务状态成功更新 |
| TASK-03 | 分配任务 | 1. 创建/编辑任务<br>2. 选择负责人<br>3. 保存 | 任务成功分配，负责人收到通知 |
| TASK-04 | 任务详情 | 1. 点击任务卡片<br>2. 查看详情 | 显示任务的完整信息 |
| TASK-05 | 任务评论 | 1. 进入任务详情<br>2. 添加评论<br>3. 提交 | 评论成功添加，相关人员收到通知 |

### 联系记录测试

| 测试 ID | 测试场景 | 测试步骤 | 预期结果 |
|---------|---------|---------|----------|
| CONT-01 | 添加联系记录 | 1. 点击"添加联系记录"<br>2. 填写信息<br>3. 保存 | 联系记录成功创建 |
| CONT-02 | 查看联系历史 | 1. 进入客户详情<br>2. 查看联系记录标签页 | 显示该客户的所有联系历史 |
| CONT-03 | 筛选联系记录 | 1. 使用筛选选项<br>2. 应用筛选 | 显示符合条件的联系记录 |

### 报表测试

| 测试 ID | 测试场景 | 测试步骤 | 预期结果 |
|---------|---------|---------|----------|
| REPO-01 | 生成销售报表 | 1. 进入报表页面<br>2. 选择销售报表<br>3. 设置参数<br>4. 生成报表 | 正确显示报表数据和图表 |
| REPO-02 | 导出报表 | 1. 生成报表<br>2. 点击导出按钮<br>3. 选择导出格式 | 成功下载报表文件 |
| REPO-03 | 自定义报表 | 1. 选择自定义报表<br>2. 配置数据源和字段<br>3. 生成报表 | 显示符合配置的报表 |

## 表单验证测试

### 登录表单

| 测试 ID | 测试场景 | 测试步骤 | 预期结果 |
|---------|---------|---------|----------|
| FORM-01 | 空字段验证 | 1. 不填写任何字段<br>2. 提交表单 | 显示必填字段错误消息 |
| FORM-02 | 邮箱格式验证 | 1. 输入无效邮箱格式<br>2. 提交表单 | 显示邮箱格式错误消息 |
| FORM-03 | 密码长度验证 | 1. 输入短于最小长度的密码<br>2. 提交表单 | 显示密码长度错误消息 |

### 客户表单

| 测试 ID | 测试场景 | 测试步骤 | 预期结果 |
|---------|---------|---------|----------|
| FORM-04 | 必填字段验证 | 1. 不填写必填字段<br>2. 提交表单 | 显示必填字段错误消息 |
| FORM-05 | 电话格式验证 | 1. 输入无效电话格式<br>2. 提交表单 | 显示电话格式错误消息 |
| FORM-06 | 邮箱格式验证 | 1. 输入无效邮箱格式<br>2. 提交表单 | 显示邮箱格式错误消息 |

### 任务表单

| 测试 ID | 测试场景 | 测试步骤 | 预期结果 |
|---------|---------|---------|----------|
| FORM-07 | 必填字段验证 | 1. 不填写必填字段<br>2. 提交表单 | 显示必填字段错误消息 |
| FORM-08 | 日期验证 | 1. 输入过去的截止日期<br>2. 提交表单 | 显示日期验证错误消息 |

## 权限管理测试

### 角色访问权限

| 测试 ID | 测试场景 | 测试步骤 | 预期结果 |
|---------|---------|---------|----------|
| PERM-01 | 管理员访问 | 1. 以管理员身份登录<br>2. 尝试访问所有页面和功能 | 可以访问所有功能 |
| PERM-02 | 销售员访问 | 1. 以销售员身份登录<br>2. 尝试访问不同页面和功能 | 只能访问授权的功能 |
| PERM-03 | 设计师访问 | 1. 以设计师身份登录<br>2. 尝试访问不同页面和功能 | 只能访问授权的功能 |
| PERM-04 | 项目经理访问 | 1. 以项目经理身份登录<br>2. 尝试访问不同页面和功能 | 只能访问授权的功能 |
| PERM-05 | 股东访问 | 1. 以股东身份登录<br>2. 尝试访问不同页面和功能 | 只能访问授权的功能 |

### 数据访问权限

| 测试 ID | 测试场景 | 测试步骤 | 预期结果 |
|---------|---------|---------|----------|
| PERM-06 | 客户数据访问 | 1. 以不同角色登录<br>2. 尝试查看/编辑客户数据 | 根据角色显示适当的数据和操作选项 |
| PERM-07 | 任务数据访问 | 1. 以不同角色登录<br>2. 尝试查看/编辑任务 | 根据角色显示适当的任务和操作选项 |
| PERM-08 | 用户管理访问 | 1. 以非管理员身份登录<br>2. 尝试访问用户管理 | 显示未授权信息或重定向 |

## 通知系统测试

### 通知生成

| 测试 ID | 测试场景 | 测试步骤 | 预期结果 |
|---------|---------|---------|----------|
| NOTI-01 | 任务分配通知 | 1. 将任务分配给用户<br>2. 检查通知 | 接收者收到任务分配通知 |
| NOTI-02 | 任务状态更新通知 | 1. 更新任务状态<br>2. 检查通知 | 相关用户收到状态更新通知 |
| NOTI-03 | 任务评论通知 | 1. 在任务添加评论<br>2. 检查通知 | 任务相关人员收到评论通知 |
| NOTI-04 | 客户添加通知 | 1. 添加新客户<br>2. 检查通知 | 相关角色用户收到客户添加通知 |

### 通知设置

| 测试 ID | 测试场景 | 测试步骤 | 预期结果 |
|---------|---------|---------|----------|
| NOTI-05 | 通知偏好设置 | 1. 修改通知设置<br>2. 触发相应类型的通知 | 根据设置接收或不接收通知 |
| NOTI-06 | 标记通知已读 | 1. 点击单个通知<br>2. 检查状态 | 通知被标记为已读 |
| NOTI-07 | 全部标记已读 | 1. 点击"全部标为已读"<br>2. 检查状态 | 所有通知被标记为已读 |

## 用户反馈功能测试

| 测试 ID | 测试场景 | 测试步骤 | 预期结果 |
|---------|---------|---------|----------|
| FEED-01 | 提交反馈 | 1. 点击反馈按钮<br>2. 填写反馈表单<br>3. 提交 | 反馈成功提交，显示成功消息 |
| FEED-02 | 表单验证 | 1. 不填写必填字段<br>2. 提交表单 | 显示必填字段错误消息 |
| FEED-03 | 管理员查看反馈 | 1. 以管理员身份登录<br>2. 访问反馈管理页面 | 显示所有用户提交的反馈 |

## 移动端适配测试

| 测试 ID | 测试场景 | 测试步骤 | 预期结果 |
|---------|---------|---------|----------|
| MOBI-01 | 登录页响应式 | 1. 在移动设备访问登录页面 | 页面布局适应屏幕尺寸，表单元素正确显示 |
| MOBI-02 | 仪表板响应式 | 1. 在移动设备访问仪表板 | 数据卡片和图表重新排列，适应小屏幕 |
| MOBI-03 | 客户列表响应式 | 1. 在移动设备访问客户列表 | 表格转为卡片视图或简化布局 |
| MOBI-04 | 任务看板响应式 | 1. 在移动设备访问任务看板 | 看板列垂直排列，保持拖放功能可用 |
| MOBI-05 | 表单响应式 | 1. 在移动设备打开各种表单 | 表单字段垂直排列，易于填写 |
| MOBI-06 | 导航菜单响应式 | 1. 在移动设备查看导航菜单 | 切换为汉堡菜单或其他移动友好的导航方式 |

## 性能测试

| 测试 ID | 测试场景 | 测试步骤 | 预期结果 |
|---------|---------|---------|----------|
| PERF-01 | 页面加载性能 | 1. 使用开发者工具测量页面加载时间 | 首屏渲染时间 < 2秒 |
| PERF-02 | API响应性能 | 1. 监控API请求响应时间 | 95%的API请求 < 500ms |
| PERF-03 | 大数据量加载 | 1. 加载包含大量记录的页面(如客户列表) | 页面保持响应，使用分页或虚拟滚动 |
| PERF-04 | 资源使用 | 1. 监控内存和CPU使用 | 资源使用量在合理范围内 |
| PERF-05 | WebSocket性能 | 1. 测试多个连接下的通知推送 | 通知正常推送，无明显延迟 |

## 安全测试

| 测试 ID | 测试场景 | 测试步骤 | 预期结果 |
|---------|---------|---------|----------|
| SECU-01 | XSS防护 | 1. 在输入字段中输入脚本标签<br>2. 提交并查看结果 | 脚本被转义而非执行 |
| SECU-02 | CSRF防护 | 1. 尝试从其他站点提交表单到系统 | 请求被拒绝 |
| SECU-03 | SQL注入防护 | 1. 在搜索字段中输入SQL注入尝试 | 搜索正常进行，无注入风险 |
| SECU-04 | 认证绕过测试 | 1. 尝试直接访问受保护页面<br>2. 尝试修改会话数据 | 访问被拒绝，重定向到登录页面 |
| SECU-05 | 数据加密 | 1. 检查敏感数据存储和传输 | 敏感数据使用HTTPS传输，密码加密存储 |
| SECU-06 | 权限提升测试 | 1. 尝试访问和修改高级权限数据 | 操作被拒绝 |

## BUG 跟踪与修复流程

### BUG优先级定义

- **P0 - 阻断性**：系统完全无法使用，必须立即解决
- **P1 - 严重**：主要功能受影响，需要优先修复
- **P2 - 中等**：功能有问题但有替代方案，计划中修复
- **P3 - 轻微**：影响较小，可延后修复

### BUG状态流程

1. **新建**：BUG初始录入状态
2. **确认**：BUG已被验证确实存在
3. **分配**：BUG已分配给具体开发人员处理
4. **修复中**：开发人员正在修复
5. **已修复**：开发人员完成修复
6. **验证中**：测试人员验证修复结果
7. **关闭**：BUG已成功修复并验证
8. **重开**：修复未解决问题，需重新处理

### BUG记录模板

```markdown
## BUG详情

- **ID**: BUG-001
- **标题**: [简短描述BUG]
- **优先级**: [P0/P1/P2/P3]
- **状态**: [新建/确认/分配/修复中/已修复/验证中/关闭/重开]
- **报告人**: [报告人姓名]
- **分配给**: [负责修复的开发人员]
- **报告日期**: [YYYY-MM-DD]

### 描述
[详细描述BUG的表现]

### 重现步骤
1. [步骤1]
2. [步骤2]
3. [步骤3]

### 预期行为
[描述正确的预期行为]

### 实际行为
[描述实际观察到的行为]

### 环境信息
- **浏览器**: [浏览器名称和版本]
- **操作系统**: [操作系统名称和版本]
- **设备类型**: [桌面/平板/手机]
- **屏幕分辨率**: [如有必要]

### 截图/视频
[附加截图或视频链接]

### 相关问题
[关联的其他BUG或任务]

### 修复记录
- **修复日期**: [YYYY-MM-DD]
- **修复描述**: [描述修复方法]
- **修复代码链接**: [代码仓库链接]
- **验证结果**: [通过/未通过]
```

## 测试报告模板

```markdown
# CRM系统测试报告

## 测试概要
- **测试日期**: [开始日期] 至 [结束日期]
- **测试环境**: [环境描述]
- **测试人员**: [测试人员名单]
- **测试范围**: [测试的功能模块]

## 测试结果摘要
- **测试用例总数**: [数量]
- **通过用例数**: [数量] ([百分比]%)
- **失败用例数**: [数量] ([百分比]%)
- **阻塞用例数**: [数量] ([百分比]%)
- **未执行用例数**: [数量] ([百分比]%)

## BUG统计
- **总BUG数**: [数量]
- **P0 (阻断性)**: [数量]
- **P1 (严重)**: [数量]
- **P2 (中等)**: [数量]
- **P3 (轻微)**: [数量]
- **已修复**: [数量] ([百分比]%)
- **未修复**: [数量] ([百分比]%)

## 主要问题概述
[列出最重要的问题和修复状态]

## 测试结果详情
[按模块列出测试结果]

### 用户认证模块
- **通过率**: [百分比]%
- **主要问题**: [问题描述]

### 客户管理模块
- **通过率**: [百分比]%
- **主要问题**: [问题描述]

[...其他模块...]

## 性能测试结果
[性能测试的关键指标和结论]

## 安全测试结果
[安全测试的关键发现和修复状态]

## 移动适配测试结果
[不同设备的兼容性结果]

## 建议和改进方向
[基于测试结果的建议]

## 结论
[总体评估和上线建议]
```

---

按照本测试计划执行测试，并使用提供的模板记录问题，将帮助确保系统的质量和稳定性。测试报告应在所有测试完成后生成，作为上线决策的依据。 